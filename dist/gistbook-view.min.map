{"version":3,"file":"gistbook-view.min.js","sources":["gistbook-view.js"],"names":["this","obj","__p","__e","_","escape","source","title","__t","Radio","Backbone","$","dragging","placeholders","fn","sortable","options","method","String","extend","connectWith","each","test","items","children","data","attr","add","removeData","off","isHandle","index","placeholder","tagName","find","handle","mousedown","mouseup","on","e","dt","originalEvent","dataTransfer","effectAllowed","setData","addClass","removeClass","show","detach","parent","trigger","item","not","dragDrop","end","is","type","stopPropagation","filter","after","preventDefault","dropEffect","forcePlaceholderSize","height","outerHeight","hide","length","append","jQuery","mergeOptions","pick","Marionette","View","prototype","Object","Application","_initChannel","channelName","result","channel","serializeModel","model","clone","attributes","ItemView","serializeCollection","collection","map","stringUtil","capitalize","string","charAt","toUpperCase","slice","radioUtil","entityChannelName","entity","_uniqueId","uniqueId","entityChannel","CacheManager","initialize","bindAll","gistbookCh","_configureListeners","listenTo","_addBlock","indexOf","newBlock","Model","at","GistbookView","LayoutView","template","gistbookTemplates","gistbookView","ui","container","header","regions","blocks","className","_createCollection","titleManager","TitleManager","region","getRegion","getBlocksView","BlocksView","onRender","showDisplayTitleView","onBeforeDestroy","destroy","gistblocks","get","Collection","titleManagerOptions","getDisplayTitleView","DisplayTitleView","editable","request","getEditTitleView","EditTitleView","stopListening","displayTitleView","_setDisplayListeners","showEditTitleView","editTitleView","_setEditListeners","listenToOnce","_editHeader","_displayHeader","edit","triggers","click @ui.edit","displayTitleViewOptions","_setClass","$el","toggleClass","input","save","cancel","events","keypress input","click @ui.save","click @ui.cancel","onSave","newTitle","val","set","onKeypress","keyCode","triggerMethod","CollectionView","initialRender","cacheManager","authorized","getChildView","generatorMethod","_generatorMethodName","_setUpSortable","viewType","_resortByDom","_getTextView","_authTextView","_unauthTextView","_registerDisplayView","DisplayTextView","initialMode","childViewOptions","ControlsWrapper","_getJavascriptView","_authJavascriptView","_unauthJavascriptView","CustomAceEditor","AceEditorView","editOptions","move","delete","readOnly","hideCursor","ViewClass","reply","newCollection","newArray","view","el","sortBy","key","i","_index","reset","silent","aceEditorView","tabSize","softTabs","highlightActiveLine","theme","mode","minLines","maxLines","showGutter","aceEditorViewOptions","aceContainer","editor","ace","_configureEditor","themePath","_getThemePath","modePath","_getModePath","session","getSession","renderer","setHighlightActiveLine","setMode","setTheme","setOption","setReadOnly","setTabSize","setUseSoftTabs","setShowGutter","$cursorLayer","element","style","opacity","themeName","modeName","text","html","_parseText","MathJax","Hub","Queue","_parseMarked","marked","err","content","EditTextView","value","DisplayWrapper","displayWrapper","menuWrapperOptions","click @ui.move","click @ui.delete","getDisplayView","blockChannel","_showMenu","displayView","EditWrapper","editWrapper","defaults","sourceTabText","PreviewView","undefined","editWrapperOptions","cache","toJSON","serializeData","call","write","preview","update","click @ui.write","click @ui.preview","click @ui.update","onPreview","_setCache","transitionUiToPreview","showPreview","onWrite","transitionUiToCode","showEditor","onUpdate","getEditTextView","getPreviewView","textEditorView","previewView","currentView","controlsWrapper","controlsWrapperOptions","wrapper","addText","addJavascript","click @ui.addText","click @ui.addJavascript","_createCache","onEdit","showActive","onDelete","remove","onCancel","_resetCache","showDisplay","onAddText","onAddJavascript","getDisplayWrapper","_configurePreviewListeners","getEditWrapper","_configureEditListeners","_updateCache","_saveCache","cachedModel","aceEditorOptions","cachedSource","window"],"mappings":"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"}